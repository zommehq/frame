= Vue Integration

Fragment Elements works with Vue 3 in both parent and child applications.

== Parent Application (Vue 3)

=== Basic Usage

[source,vue]
----
<script setup lang="ts">
import '@micro-fe/fragment-elements/fragment-frame';
</script>

<template>
  <fragment-frame
    name="user-app"
    src="http://localhost:3001"
    base="/users"
    theme="dark"
  />
</template>
----

=== Type-Safe Wrapper

[source,vue]
----
<script setup lang="ts">
import { ref, watchEffect } from 'vue';
import type { FragmentFrame } from '@micro-fe/fragment-elements';

interface Props {
  apiUrl: string;
  name: string;
  src: string;
  theme: 'light' | 'dark';
}

const props = defineProps<Props>();
const fragmentRef = ref<FragmentFrame>();

watchEffect(() => {
  if (!fragmentRef.value) return;
  fragmentRef.value.apiUrl = props.apiUrl;
  fragmentRef.value.theme = props.theme;
});
</script>

<template>
  <fragment-frame ref="fragmentRef" :name="props.name" :src="props.src" />
</template>
----

== Fragment Application (Vue 3)

=== Basic Setup

[source,typescript]
----
import { createApp } from 'vue';
import App from './App.vue';
import { frameSDK } from '@micro-fe/fragment-elements/sdk';

frameSDK.initialize().then(() => {
  createApp(App).mount('#app');
});
----

[source,vue]
----
<script setup lang="ts">
import { ref } from 'vue';
import { frameSDK } from '@micro-fe/fragment-elements/sdk';

const config = ref(frameSDK.props);
</script>

<template>
  <div :data-theme="config.theme">
    <h1>Fragment: {{ config.name }}</h1>
  </div>
</template>
----
