= Constants

This document describes all constant values used in Fragment Frame.

== Message Event Types

[source,typescript]
----
export const MessageEvent = {
  INIT: '__INIT__',
  READY: '__READY__',
  ATTRIBUTE_CHANGE: '__ATTRIBUTE_CHANGE__',
  EVENT: '__EVENT__',
  CUSTOM_EVENT: '__CUSTOM_EVENT__',
  FUNCTION_CALL: '__FUNCTION_CALL__',
  FUNCTION_RESPONSE: '__FUNCTION_RESPONSE__',
  FUNCTION_RELEASE: '__FUNCTION_RELEASE__',
  FUNCTION_RELEASE_BATCH: '__FUNCTION_RELEASE_BATCH__',
} as const;
----

== Configuration Constants

=== Timing

[source,typescript]
----
export const FUNCTION_CALL_TIMEOUT = 5000;  // 5 seconds
export const SERIALIZATION_MAX_DEPTH = 100; // 100 levels
export const FUNCTION_REGISTRY_MAX_SIZE = 1000; // 1000 functions
export const IFRAME_LOAD_TIMEOUT = 10000;   // 10 seconds
export const INIT_TIMEOUT = 10000;          // 10 seconds
----

=== Valid Message Types Set

[source,typescript]
----
export const VALID_MESSAGE_TYPES = new Set(Object.values(MessageEvent)) as Set<
  (typeof MessageEvent)[keyof typeof MessageEvent]
>;
----

== Error Messages

[source,typescript]
----
export const ErrorMessages = {
  ARRAY_BOUNDS: 'No MessagePort received in INIT message',
  DATA_CLONE_ERROR: 'Cannot clone message data - unsupported type',
  FUNCTION_NOT_FOUND: 'Function not found',
  FUNCTION_REGISTRY_EXCEEDED: 'Function registry limit exceeded',
  FUNCTION_TIMEOUT: 'Function call timeout',
  IFRAME_CONTENT_WINDOW: 'Iframe contentWindow is not accessible',
  IFRAME_LOAD_FAILED: 'Failed to load iframe',
  IFRAME_LOAD_TIMEOUT: 'Iframe load timeout after 10s',
  INIT_TIMEOUT: 'Initialization timeout: INIT message not received within timeout',
  INVALID_ATTRIBUTE_MESSAGE: 'Invalid ATTRIBUTE_CHANGE message',
  INVALID_CUSTOM_EVENT_MESSAGE: 'Invalid CUSTOM_EVENT message',
  INVALID_EVENT_MESSAGE: 'Invalid EVENT message',
  INVALID_EVENT_NAME: 'Invalid event name',
  INVALID_FUNCTION_CALL_MESSAGE: 'Invalid FUNCTION_CALL message',
  INVALID_FUNCTION_RELEASE_BATCH_MESSAGE: 'Invalid FUNCTION_RELEASE_BATCH message',
  INVALID_FUNCTION_RELEASE_MESSAGE: 'Invalid FUNCTION_RELEASE message',
  INVALID_FUNCTION_RESPONSE_MESSAGE: 'Invalid FUNCTION_RESPONSE message',
  INVALID_MESSAGE_FORMAT: 'Invalid message format',
  INVALID_MESSAGE_TYPE: 'Invalid message type (not a string)',
  INVALID_STATE_ERROR: 'MessagePort is in invalid state (possibly closed)',
  MESSAGE_HANDLER_ERROR: 'Error handling message from iframe',
  MESSAGE_SEND_FAILED: 'Failed to send message',
  MISSING_REQUIRED_ATTRIBUTES: 'Missing required attributes: name and src',
  PORT_NOT_READY: 'MessagePort not ready',
  SERIALIZATION_DEPTH_EXCEEDED: 'Serialization depth limit exceeded at level',
  UNKNOWN_ERROR: 'Unknown error',
  UNKNOWN_MESSAGE_TYPE: 'Unknown message type',
} as const;
----

== Warning Messages

[source,typescript]
----
export const WarningMessages = {
  ALREADY_INITIALIZED: 'Already initialized, ignoring duplicate call',
  DUPLICATE_INIT: 'Ignoring duplicate INIT message',
  EVENT_CONFLICTS_BUILTIN: 'Event name conflicts with built-in property',
  FORBIDDEN_ATTRIBUTE: 'Forbidden attribute name',
  FORBIDDEN_EVENT: 'Forbidden event name',
  RELEASE_ERROR: 'Error sending release messages',
} as const;
----

== Import

[source,typescript]
----
import { MessageEvent, FUNCTION_CALL_TIMEOUT, ErrorMessages } from '@zomme/fragment-frame/constants';
----
